{% extends 'base.html.twig' %}

{% block body %}
<div class="container col-md-6 text-center mt-3">
    <h1 class="text text-success">Pet List</h1>
    <a class="btn btn-primary" href="{{ path('add_pet')}}">Add</a>
    <form class="form-group" action="{{ path('search_pet_name') }}" method="post">
        <input class="form-control" type="search" name="keyword" required
        placeholder="Search by pet name">
    </form>
     <div class="form-group mt-3 col-md-6">
    <select onchange="window.location.href=this.value" class="form-control">
        <option>Sort by</option>
        <option value="{{ path('sort_pet_name_ascending')}}">Name Ascending</option>
        <option value="{{ path('sort_pet_name_descending')}}">Name Descending</option>
    </select>
    </div>
    
    <table class="table table-primary mt-3">
        <thead>
          <tr>
            <th>Pet Id</th>
            <th>Pet Name</th>
            <th>Pet Image</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
         {% for pet in pets %}
             <tr>
                 <td>{{ pet.id }}</td>
                 <td>
                    <a href="{{ path('view_pet_by_id', {'id': pet.id })}}">
                        {{ pet.petname }}                      
                    </a>
                 </td>
                 <td><a><img src="{{ pet.petimage}}" width="150" height="100"></a></td>
                 <td>
                    <a class="btn btn-success" href="{{ path('edit_pet', {'id': pet.id })}}">Edit</a>
                    <a class="btn btn-danger" href="{{ path('delete_pet', {'id': pet.id })}}"
                    onclick="return confirm('Are you sure to delete this pet ?');"
                    >
                        Delete
                    </a>
                 </td>
             </tr>
         {% endfor %}
        </tbody>
    <table>
    
</div>
{% endblock %}